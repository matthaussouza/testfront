(this["webpackJsonpexp-in"]=this["webpackJsonpexp-in"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(25),s=n.n(r),a=(n(32),n(2)),o=n(9),l=(n(33),n(4)),j=(n(34),n(26)),u="ExpInToken",d=n.n(j).a.create({baseURL:"http://localhost:8000"});d.interceptors.request.use((function(e){var t=localStorage.getItem(u);return e.headers.Authorization=t?"Token ".concat(t):null,e}));var b=n(0);function h(){var e=Object(c.useState)(),t=Object(l.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(),s=Object(l.a)(r,2),o=s[0],j=s[1],h=Object(a.f)();return Object(b.jsx)("div",{className:"form",children:Object(b.jsxs)("form",{children:[Object(b.jsxs)("label",{children:["Usu\xe1rio",Object(b.jsx)("input",{type:"text",onChange:function(e){return i(e.target.value)}})]}),Object(b.jsxs)("label",{children:["Senha",Object(b.jsx)("input",{type:"password",onChange:function(e){return j(e.target.value)}})]}),Object(b.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),d.post("/login/",{username:n,password:o}).then((function(e){return t=e.data.token,localStorage.setItem(u,t);var t}),h.push("/profiles")).catch((function(e){return console.log(e)}))},children:" Login "})]})})}var O=n(16);n(62);function x(){var e=Object(c.useState)(),t=Object(l.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(),s=Object(l.a)(r,2),a=s[0],j=s[1],u=Object(c.useState)(),h=Object(l.a)(u,2),x=h[0],f=h[1],v=Object(c.useState)(),p=Object(l.a)(v,2),m=p[0],g=p[1],N=Object(c.useState)(),S=Object(l.a)(N,2),C=S[0],k=S[1];return Object(c.useEffect)((function(){d.get("/perfis/").then((function(e){return i(e.data)})).catch((function(e){return console.error(e)})),d.get("/perfil/").then((function(e){return j(e.data)})).catch((function(e){return console.error(e)})),d.get("/convites/").then((function(e){var t=e.data.map((function(e){var t=null===n||void 0===n?void 0:n.find((function(t){return e.solicitante===t.id}));return Object(O.a)(Object(O.a)({},t),{},{inviteId:e.id})}));k(t)})).catch((function(e){return console.error(e)}))}),[n]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(o.b,{to:"/myprofile",className:"link",children:["Ol\xe1 ",null===a||void 0===a?void 0:a.nome]}),Object(b.jsxs)("div",{className:"profiles",children:[Object(b.jsxs)("div",{className:"invite",children:[Object(b.jsx)("h2",{children:"Perfis disponiveis:"}),null===n||void 0===n?void 0:n.map((function(e){return e.id===(null===a||void 0===a?void 0:a.id)?null:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("h3",{children:e.nome}),Object(b.jsx)("span",{children:e.email}),e.pode_convidar?Object(b.jsx)("button",{className:"icon",title:"Convidar",onClick:function(){return t=e.id,d.post("/convites/convidar/".concat(t)).then((function(e){return f(e.data.mensagem)})).catch((function(e){return console.error(e)})),void g(t);var t},children:"Convidar"}):null]}),e.id===m?Object(b.jsx)("span",{className:"message",children:x}):null]},e.id)}))]}),Object(b.jsxs)("div",{className:"invitations",children:[Object(b.jsx)("h2",{children:"Convites"}),null===C||void 0===C?void 0:C.map((function(e){return Object(b.jsxs)("div",{className:"card-default card",children:[Object(b.jsx)("h3",{children:e.nome}),Object(b.jsx)("button",{onClick:function(){return t=e.inviteId,void d.post("/convites/aceitar/".concat(t)).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}));var t},children:"Aceitar"})]},e.inviteId)}))]})]})]})}function f(){var e=Object(c.useState)(),t=Object(l.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(),s=Object(l.a)(r,2),o=s[0],j=s[1],u=Object(c.useState)(),h=Object(l.a)(u,2),O=h[0],x=h[1],f=Object(c.useState)(),v=Object(l.a)(f,2),p=v[0],m=v[1],g=Object(c.useState)(),N=Object(l.a)(g,2),S=N[0],C=N[1],k=Object(a.f)();return Object(b.jsx)("div",{className:"form",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d.post("/perfis/",{nome:n,telefone:p,email:o,senha:S,nome_empresa:O}).then((function(e){return console.log(e)}),k.push("/")).catch((function(e){return console.log(e)}))},children:[Object(b.jsx)("label",{children:"Nome"}),Object(b.jsx)("input",{type:"text",onChange:function(e){return i(e.target.value)}}),Object(b.jsx)("label",{children:"Telefone"}),Object(b.jsx)("input",{type:"text",onChange:function(e){return m(e.target.value)}}),Object(b.jsx)("label",{children:"Email"}),Object(b.jsx)("input",{type:"text",onChange:function(e){return j(e.target.value)}}),Object(b.jsx)("label",{children:"Nome da Empresa"}),Object(b.jsx)("input",{type:"text",onChange:function(e){return x(e.target.value)}}),Object(b.jsx)("label",{children:"Senha"}),Object(b.jsx)("input",{type:"password",onChange:function(e){return C(e.target.value)}}),Object(b.jsx)("button",{children:"Registrar"})]})})}n(63);function v(){var e=Object(c.useState)(),t=Object(l.a)(e,2),n=t[0],i=t[1];return Object(c.useEffect)((function(){d.get("/perfil/").then((function(e){return i(e.data)})).catch((function(e){return console.error(e)}))}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h1",{children:["Ol\xe1 ",null===n||void 0===n?void 0:n.nome]}),Object(b.jsxs)("div",{className:"body",children:[Object(b.jsxs)("div",{className:"dataUser",children:[Object(b.jsx)("hr",{}),Object(b.jsx)("h2",{children:"Dados do Usu\xe1rio: "}),Object(b.jsxs)("p",{children:["Nome do Usu\xe1rio: ",null===n||void 0===n?void 0:n.nome]}),Object(b.jsxs)("p",{children:["Email: ",null===n||void 0===n?void 0:n.email]}),Object(b.jsxs)("p",{children:["Telefone: ",null===n||void 0===n?void 0:n.telefone]}),Object(b.jsxs)("p",{children:["Nome da empresa: ",null===n||void 0===n?void 0:n.nome_empresa]}),Object(b.jsx)("hr",{})]}),Object(b.jsxs)("div",{className:"contacts",children:[Object(b.jsx)("h2",{children:"Contatos"}),Object(b.jsx)("ul",{className:"contact",children:null===n||void 0===n?void 0:n.contatos.map((function(e){return Object(b.jsxs)("li",{className:"card_contact",children:[Object(b.jsx)("h3",{children:e.nome}),Object(b.jsx)("span",{children:e.email})]},e.id)}))}),Object(b.jsx)(o.b,{to:"/profiles",className:"linkp",children:"Convidar Perfis"})]})]})]})}function p(){return Object(b.jsx)("div",{children:Object(b.jsxs)(a.c,{children:[Object(b.jsx)(a.a,{exact:!0,path:"/",children:Object(b.jsx)(h,{})}),Object(b.jsx)(a.a,{exact:!0,path:"/register",children:Object(b.jsx)(f,{})}),Object(b.jsx)(a.a,{exact:!0,path:"/profiles",children:Object(b.jsx)(x,{})}),Object(b.jsx)(a.a,{exact:!0,path:"/myprofile",children:Object(b.jsx)(v,{})})]})})}var m=function(){var e=Object(a.f)();return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)("nav",{className:"navlinks",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(o.c,{exact:!0,to:"/",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(o.c,{exact:!0,to:"/register",children:"Registrar"})}),Object(b.jsx)("li",{className:"button",children:Object(b.jsx)("button",{onClick:function(){localStorage.removeItem(u),e.push("/")},children:" Logout "})})]})})}),Object(b.jsx)(p,{})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),r(e),s(e)}))};s.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(m,{})})}),document.getElementById("root")),g()}},[[64,1,2]]]);
//# sourceMappingURL=main.68749d3c.chunk.js.map